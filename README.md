# Backup Cleaning ðŸ§¹
### Purpose of the application
The **Backup Cleaning** allows to purge folders of backups in a server. The parameters of time (in days), locations and logs configurations can be set through a file named settings.json.

The settings.json file uses some examples to config:
- The first setting is the time at which the application should be run again. This time is defined in seconds.
- Log folder and name. You can choose the best name and location for that.
- Days to count before the current computer date to purge folders and its files.
- Root path that the application needs to search for subfolders with modification date below the maximum purge date. For example, if you set the value to 15 and the current date is 2024/05/20, the application will only delete folders that were modified on dates less than or equal to 2024/05/04.

### Required dependences
You can run this application in a **Linux** server with **Python 3.6** installed
- You just need to run the command: python ./backup-cleaning.py

Or if your server uses a Windows operating system you can do this by compiling the application following these steps below.
- Install on your computer the **Python 3.6**
- Also install the PyInstaller (pip install pyinstaller)
- Download these project files on your computer
- Open the project folder on the same terminal
- **Type the command**: pyinstaller --onefile .\backup-cleaning.py
- Copy the file **backup-cleaning.exe** saved from the **dist** folder on a folder on the destination computer.
- Also copy the settings.json file to the same folder on the target computer.
- You can create a service using NSSM application, or a task on the Windows or just run the backup-cleaning.exe

### How to run tests?
For varius tests you can use another application of mine called [FoldersCreatorForTests](https://github.com/EssiasSouza/FoldersCreatorForTests").
FoldersCreatorForTests creates folders and files by changing the modification date, which allows you to test various backup file scenarios.

### Used technologies
The **Backup-Cleaning** was created only in python using some libraries:
- datetime (To work the data modification time information)
- time (To allow tests and wait states)
- os (To access OS directories)
- shutil (To manage OS directories)
- lib_applogs (Also created by me to configure the logs files when I create any applications)
- json

### How to run the application
To run the application you need to follow the **Required dependences**.
**For Linux just run**:
- python ./backup-cleaning.py
**For Windows you can only run the same command or:**
- Compile the application
- Run backup-cleaning.exe

### Possibles problems / Faced problems
I faced no problems in building this, you just need to be awake to the time of purging and the true path you need to purge.

### Next steps
Implement the purging of logs generated by the application and copying the logs for sending via EDI.
